CREATE TABLE TCOMPETENCIA (IDCOMPETENCIA NUMBER(10) NOT NULL, ACTIVA NUMBER(1), NIVEL NUMBER(10), NOMBRE VARCHAR, VERSION NUMBER(10), PRIMARY KEY (IDCOMPETENCIA))
CREATE TABLE TIENE (ACTIVO NUMBER(1), NIVEL NUMBER(10), COMPETENCIA_IDCOMPETENCIA NUMBER(10) NOT NULL, EMPLEADO_IDEMPLEADO NUMBER(10) NOT NULL, PRIMARY KEY (COMPETENCIA_IDCOMPETENCIA, EMPLEADO_IDEMPLEADO))
CREATE TABLE TDEPARTAMENTO (IDDEPARTAMENTO NUMBER(10) NOT NULL, ACTIVO NUMBER(1), COSTEDEPARTAMENTO NUMBER(12,5), NOMBRE VARCHAR, VERSION NUMBER(10), PRIMARY KEY (IDDEPARTAMENTO))
CREATE TABLE TEMPLEADO (IDEMPLEADO NUMBER(10) NOT NULL, DTYPE VARCHAR(31), ACTIVO NUMBER(1), NOMBRE VARCHAR, PASSWORD VARCHAR, TELEFONO NUMBER(10), VERSION NUMBER(10), DEPARTAMENTO_IDDEPARTAMENTO NUMBER(10), SUELDO NUMBER(10), HORAS_SEMANA NUMBER(10), SUELDO_HORA NUMBER(10), PRIMARY KEY (IDEMPLEADO))
CREATE TABLE TCOMPETENCIA_TEMPLEADO (TCompetencia_IDCOMPETENCIA NUMBER(10) NOT NULL, empleado_IDEMPLEADO NUMBER(10) NOT NULL, PRIMARY KEY (TCompetencia_IDCOMPETENCIA, empleado_IDEMPLEADO))
CREATE TABLE TDEPARTAMENTO_TEMPLEADO (TDepartamento_IDDEPARTAMENTO NUMBER(10) NOT NULL, empleado_IDEMPLEADO NUMBER(10) NOT NULL, PRIMARY KEY (TDepartamento_IDDEPARTAMENTO, empleado_IDEMPLEADO))
CREATE TABLE TEMPLEADO_TCOMPETENCIA (TEmpleado_IDEMPLEADO NUMBER(10) NOT NULL, competencia_IDCOMPETENCIA NUMBER(10) NOT NULL, PRIMARY KEY (TEmpleado_IDEMPLEADO, competencia_IDCOMPETENCIA))
ALTER TABLE TIENE ADD CONSTRAINT FK_TIENE_COMPETENCIA_IDCOMPETENCIA FOREIGN KEY (COMPETENCIA_IDCOMPETENCIA) REFERENCES TCOMPETENCIA (IDCOMPETENCIA)
ALTER TABLE TIENE ADD CONSTRAINT FK_TIENE_EMPLEADO_IDEMPLEADO FOREIGN KEY (EMPLEADO_IDEMPLEADO) REFERENCES TEMPLEADO (IDEMPLEADO)
ALTER TABLE TEMPLEADO ADD CONSTRAINT FK_TEMPLEADO_DEPARTAMENTO_IDDEPARTAMENTO FOREIGN KEY (DEPARTAMENTO_IDDEPARTAMENTO) REFERENCES TDEPARTAMENTO (IDDEPARTAMENTO)
ALTER TABLE TCOMPETENCIA_TEMPLEADO ADD CONSTRAINT FK_TCOMPETENCIA_TEMPLEADO_empleado_IDEMPLEADO FOREIGN KEY (empleado_IDEMPLEADO) REFERENCES TEMPLEADO (IDEMPLEADO)
ALTER TABLE TCOMPETENCIA_TEMPLEADO ADD CONSTRAINT TCOMPETENCIA_TEMPLEADO_TCompetencia_IDCOMPETENCIA FOREIGN KEY (TCompetencia_IDCOMPETENCIA) REFERENCES TCOMPETENCIA (IDCOMPETENCIA)
ALTER TABLE TDEPARTAMENTO_TEMPLEADO ADD CONSTRAINT FK_TDEPARTAMENTO_TEMPLEADO_empleado_IDEMPLEADO FOREIGN KEY (empleado_IDEMPLEADO) REFERENCES TEMPLEADO (IDEMPLEADO)
ALTER TABLE TDEPARTAMENTO_TEMPLEADO ADD CONSTRAINT TDEPARTAMENTOTEMPLEADOTDepartamento_IDDEPARTAMENTO FOREIGN KEY (TDepartamento_IDDEPARTAMENTO) REFERENCES TDEPARTAMENTO (IDDEPARTAMENTO)
ALTER TABLE TEMPLEADO_TCOMPETENCIA ADD CONSTRAINT TEMPLEADO_TCOMPETENCIA_competencia_IDCOMPETENCIA FOREIGN KEY (competencia_IDCOMPETENCIA) REFERENCES TCOMPETENCIA (IDCOMPETENCIA)
ALTER TABLE TEMPLEADO_TCOMPETENCIA ADD CONSTRAINT FK_TEMPLEADO_TCOMPETENCIA_TEmpleado_IDEMPLEADO FOREIGN KEY (TEmpleado_IDEMPLEADO) REFERENCES TEMPLEADO (IDEMPLEADO)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT NUMBER(19), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN_IDENTITY', 0)
